<jl-project-details
  (closeDetails)="onCloseProjectDetails()"
  (openLink)="onOpenLink($event)"
  [item]="currentProjectItem"
  [projectProps]="projectProps"
  [imgLocBase]="dataConfig.imgPreviewLocBase"
  *ngIf="isProjectDetailsVisible"></jl-project-details>

<jl-content-wrapper>

  <button class="btn-show-filters btn-icon"
    [@btnFiltersVisible]="filtersVisibleState"
    (click)="onToggleFiltersVisible()"
    jl-tooltip [message]="isFiltersVisible ? 'Hide Filters' : 'View Filters'">
    <i class="fas fa-chevron-circle-down"></i>
  </button>
  <jl-project-filters
    [isVisible]="isFiltersVisible"
    [visibleState]="filtersVisibleState"
    [projectProps]="projectProps"
    [projectItems]="projectItems"
    (filtersChanged)="onFiltersChanged()"></jl-project-filters>

  <section class="jl-work-content">
    <section [ngSwitch]="dataLoadedState">
      <div *ngSwitchCase="LOAD_STATE.loading">
        <h2>Loading sheets data...</h2>
      </div>
      <div *ngSwitchCase="LOAD_STATE.loaded">
        <section class="jl-project-previews"
          fxLayout="row wrap"
          fxLayout.xs="column" fxLayoutAlign.xs="start center">
          <jl-project-item *ngFor="let item of projectItems"
            [item]="item"
            [projectProps]="projectProps"
            [imgLocBase]="dataConfig.imgThumbLocBase"
            (openDetails)="onOpenProjectDetails(item)"
            (openLink)="onOpenLink($event)"></jl-project-item>
        </section>
      </div>
    </section>
  </section>
</jl-content-wrapper>

